(this["webpackJsonpboom-fest"]=this["webpackJsonpboom-fest"]||[]).push([[0],{30:function(e,t,n){e.exports=n.p+"static/media/model.358068ad.glb"},31:function(e,t,n){e.exports=n.p+"static/media/audio.eda2eb49.mp3"},32:function(e,t,n){e.exports=n(41)},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n.n(r),i=n(19),c=n.n(i),o=n(26),s=n(24),u=n(1),l=n(2),d=n(3),m=n(45),f=n(46),p=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},h=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={},e.render=function(){var t=["greenfrog","wifi","battery-25","magnifyingglass"].map((function(e){return a.a.createElement("div",{className:"header__right-icons__item header__right-icons__item--".concat(e)})}));return a.a.createElement("div",{className:"header"},a.a.createElement("div",{className:"header__left-icons"},t[0],a.a.createElement("div",{className:"header__right-icons__item header__right-icons__item--text"},a.a.createElement("b",null,"\u0424\u0430\u0439\u043d\u0434\u0435\u0440")),["\u0424\u0430\u0435\u043b","\u042d\u0434\u0438\u0442","\u0412\u0438\u0443","\u0413\u043e","\u0412\u0438\u043d\u0434\u043e\u0443","\u0425\u0430\u043b\u043f"].map((function(e){return a.a.createElement("div",{className:"header__right-icons__item header__right-icons__item--text"},e)}))),a.a.createElement("div",{className:"header__right-icons"},t[1],a.a.createElement("div",{className:"header__right-icons__item header__right-icons__item--text header__right-icons__item--battery-percentage"},"25%"),t[2],a.a.createElement("div",{className:"header__right-icons__item header__right-icons__item--text"},p(Object(m.a)(new Date,"iii HH:mm",{locale:f.a}))),t[3],a.a.createElement("div",{onClick:e.props.fullScreenToggler,className:"header__right-icons__item header__right-icons__item--text"},"\u0424\u0443\u043b\u0441\u043a\u0440\u0438\u043d")))},e}return n}(a.a.Component),v={"\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0451":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"kh","\u0446":"ts","\u0447":"ch","\u0448":"sh","\u0449":"sch","\u044a":"","\u044b":"y","\u044c":"","\u044d":"e","\u044e":"yu","\u044f":"ya"},_=function(e){return function(e){return e.split("").map((function(e){return v[e]||e})).join("")}(e.toLowerCase().replace("\u044c\u0435","ye").replace("\u0438\u044f","ia").replace("\u044c\u044f","ia").replace("\u0438\u0439","y").replace("\u0451","\u0435"))},b=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={},e.render=function(){return a.a.createElement("div",{className:"folder-window"},a.a.createElement("div",{className:"folder-window__header"},a.a.createElement("div",{className:"folder-window__header__name"},e.props.name),a.a.createElement("div",{className:"folder-window__header__buttons"},a.a.createElement("div",{className:"folder-window__header__buttons__item folder-window__header__buttons__item--close",onClick:function(){return e.props.close()}}),a.a.createElement("div",{className:"folder-window__header__buttons__item"}),a.a.createElement("div",{className:"folder-window__header__buttons__item"}))),a.a.createElement("div",{className:"folder-window__content"},e.props.children))},e}return n}(a.a.Component),g=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).clickFolder=function(e){r.setState({selected:!0,opened:r.state.wasClickedResently,wasClickedResently:!0}),r.clickedTimeout&&(clearTimeout(r.clickedTimeout),r.clickedTimeout=void 0),r.clickedTimeout=setTimeout((function(){return r.setState({wasClickedResently:!1})}),300)},r.render=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"folder-icon ".concat(r.state.selected&&"folder-icon--selected")},a.a.createElement("div",{ref:r.folderIconRef,className:"folder-icon__icon",onClick:r.clickFolder}),a.a.createElement("div",{ref:r.folderNameRef,className:"folder-icon__name",onClick:r.clickFolder},r.props.name)),r.state.opened&&c.a.createPortal(a.a.createElement(b,{name:r.props.name,close:function(){return r.setState({opened:!1})}},r.props.children),document.getElementById("App")))},r.state={state:"idle",selected:!1,opened:!1,wasClickedResently:!1},r.folderIconRef=a.a.createRef(),r.folderNameRef=a.a.createRef(),document.addEventListener("click",(function(e){!r.state.selected||r.folderIconRef.current&&e.target===r.folderIconRef.current||r.folderNameRef.current&&e.target===r.folderNameRef.current||r.setState({selected:!1})})),r}return n}(a.a.Component),w=n(5),E=n(27),O=n(23),j=n(0),y=n(28),N=(n(42),n(38),function e(t){Object(u.a)(this,e),this.init=function(){},this.animate=function(e){},this.dispose=function(){},this.props=t}),k={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*Math.pow(e,2):(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},easeIn:function(e,t){return Math.pow(e,t)},easeOut:function(e,t){return 1-k.easeIn(1-e,t)},easeInOut:function(e,t){return e<.5?k.easeIn(2*e,t)/2:1-k.easeIn(2*(1-e),t)/2},easeIn2:function(e){return k.easeIn(e,1.5)},easeOut2:function(e){return k.easeOut(e,1.5)},easeInOut2:function(e){return k.easeInOut(e,1.5)}},C=k,F=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).init=function(e){var t=e.clientWidth,n=e.clientHeight,a=t>1200;r.scene.renderer=new j.WebGLRenderer({antialias:!a,alpha:!0}),r.scene.renderer.setClearColor(0,0),r.scene.renderer.setSize(t,n),r.scene.renderer.setPixelRatio(window.devicePixelRatio),r.scene.renderer.shadowMap.enabled=!0,e.appendChild(r.scene.renderer.domElement),r.scene.camera=new j.PerspectiveCamera(75,t/n,.1,1e3),r.scene.controls=new y.a(r.scene.camera,r.scene.renderer.domElement),r.scene.controls.enabled=!1,r.scene.camera.position.z=-25,r.scene.camera.position.y=12.5,r.scene.controls.update(),r.initUnits(),r.frameId||(r.frameId=requestAnimationFrame(r.animate))},r.dispose=function(){r.disposeUnits(),cancelAnimationFrame(r.frameId)},r.resize=function(e,t){r.scene.renderer&&r.scene.camera&&(r.scene.camera.aspect=e/t,r.scene.camera.updateProjectionMatrix(),r.scene.renderer.setSize(e,t),r.scene.renderer.setPixelRatio(window.devicePixelRatio))},r.animate=function(){r.scene.frameNumber=(r.scene.frameNumber+1)%5e3;var e=r.scene.renderer.domElement.getBoundingClientRect(),t=e.left,n=e.right,a=e.top,i=(e.bottom<0||a>r.scene.renderer.domElement.clientHeight||n<0||r.scene.renderer.domElement.clientWidth,r.scene),c=(i.composer,i.controls),o=i.units,s=(i.clock,i.renderer);Object.keys(o).forEach((function(e){return o[e].animate(Object(O.a)({THREE:j},r.scene,{input:r.scene.units.Controls,maxFrameNumber:5e3,react:r.props.react}))})),c.update(),s.render(r.scene.scene,r.scene.camera),r.frameId=window.requestAnimationFrame(r.animate)},r.initUnits=function(){var e=Object(O.a)({THREE:j},r.scene,{input:r.scene.units.Controls,maxFrameNumber:5e3,react:r.props.react});Object.keys(r.props.units).forEach((function(t){var n=r.props.units[t];!n.disabled^r.scene.unitsToggled&&(r.scene.units[t]=new n.unit(Object(O.a)({},e,{},n.args)),r.scene.units[t].init&&r.scene.units[t].init())}))},r.disposeUnits=function(){var e=r.scene,t=e.scene,n=e.units;for(Object.keys(n).forEach((function(e){return n[e].dispose()}));t.children.length>0;)t.remove(t.children[0])},r.toggleUnits=function(){r.disposeUnits(),r.scene.unitsToggled=!r.scene.unitsToggled,r.initUnits()},r.scene={renderer:void 0,camera:void 0,scene:new j.Scene,composer:void 0,controls:void 0,clock:new j.Clock,frameNumber:0,units:{},unitsToggled:!1},r}return n}(function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).animateTransitions=function(){var e=[];r.transitions.forEach((function(t){if(t.currentFrame>=t.numberOfFrames)e.push(t);else{var n=t.currentFrame/t.numberOfFrames,r=C[t.timingFuntion]||function(e){return e};t.variable.copy(t.initialValue.clone().lerp(t.value,r(n))),t.currentFrame++}})),e.forEach((function(e){e.onComplete&&e.onComplete(),r.unregisterTransition(e.id)}))},r.registerTransition=function(e){return r.transitions.push({id:r.currentId=(r.currentId+1)%Number.MAX_SAFE_INTEGER,variable:e.variable,value:e.value.clone(),initialValue:e.variable.clone(),numberOfFrames:e.numberOfFrames||10,currentFrame:0,timingFuntion:e.timingFuntion||"none",onComplete:e.onComplete||function(){}}),r.currentId},r.unregisterTransition=function(e){var t=r.transitions.map((function(e){return e.id})).indexOf(e);-1!==t&&r.transitions.splice(t,1)},r.unregisterAllTransitions=function(){return r.transitions.length=0},r.noActiveTransitions=function(){return 0===r.transitions.length},r.transitions=[],r.currentId=0,r}return n}(N)),I=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).componentWillUnmount=function(){r.scene.dispose()},r.render=function(){return a.a.createElement("div",{className:"Viewer",ref:r.viewerRef})},r.state={coinsCollected:0},r.viewerRef=new a.a.createRef,r.scene=new F({react:{},units:e.units}),r}return Object(w.a)(n,[{key:"componentDidMount",value:function(){this.resizeObs=new E.a(this.resize.bind(this)).observe(this.viewerRef.current),this.scene.init(this.viewerRef.current)}},{key:"resize",value:function(){var e=this.viewerRef.current;e&&this.scene.resize(e.clientWidth,e.clientHeight)}}]),n}(a.a.Component),R=n(18),T=n.n(R),x=n(21),A=n(29),S=function(){var e=Object(x.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){return(new A.a).load(t,(function(t){return e(t)}),(function(e){return console.log(e.loaded/e.total*100+"% loaded")}),(function(e){return n(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).loadModel=Object(x.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(r.props.file);case 2:r.gtlf=e.sent,r.model=r.gtlf.scene,r.model.scale.set(7.5,7.5,7.5),r.model.position.set(0,-7.5,0),r.props.scene.add(r.model);case 7:case"end":return e.stop()}}),e)}))),r.animate=function(e){var t=e.frameNumber/e.maxFrameNumber*7;r.model&&(r.model.rotation.y=2*t*Math.PI)},r.dispose=function(e){},r.loadModel(),r}return n}(N),z=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var r;Object(u.a)(this,n),(r=t.call(this,e)).animate=function(e){},r.dispose=function(){};var a=e.scene,i=e.THREE;return r.light0=new i.HemisphereLight(16777215,4473924,1.35),r.light0.position.set(0,25,0),a.add(r.light0),r}return n}(N),U=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={},e.render=function(){return a.a.createElement(I,{id:"sceneClosed",units:{head:{unit:M,args:{file:e.props.file},disabled:!1},lights:{unit:z,disabled:!1}}})},e}return n}(a.a.Component),H=function(e){return e>9?e:"0".concat(e)},P=function(e){return"".concat(H(Math.floor(e/60)),":").concat(H(Math.floor(e%60)))},Q=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={status:"loading...",playing:!1},e.componentDidMount=function(){e.audioFile=new Audio,e.audioFile.addEventListener("canplay",(function(){e.updateStatus(),e.audioFile.play()})),e.audioFile.addEventListener("timeupdate",(function(){return e.updateStatus()})),e.audioFile.addEventListener("ended",(function(){})),e.audioFile.preload="auto",e.audioFile.src=e.props.file,e.audioFile.load()},e.componentWillUnmount=function(){return e.audioFile.pause()},e.updateStatus=function(){return e.setState({status:"".concat(P(e.audioFile.currentTime),"/").concat(P(e.audioFile.duration))})},e.render=function(){return a.a.createElement("div",{className:"audio"},a.a.createElement("div",{className:"audio__button",onClick:function(){return e.setState({playing:!e.state.playing})}}),a.a.createElement("div",{className:"audio__status"},e.state.status))},e}return n}(a.a.Component),W=n(30),L=n.n(W),B=n(31),D=n.n(B),V=function(e){"https://kiss-graph.com/boom-fest/".concat(e.name,"/");return a.a.createElement("div",{className:"player"},a.a.createElement("div",{className:"player__model"},a.a.createElement(U,{file:L.a})),a.a.createElement("div",{className:"player__audio"},a.a.createElement(Q,{file:D.a})))},q=["\u0418\u043b\u044c\u044f"],G=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={},e.render=function(){return a.a.createElement("div",{className:"desktop"},q.map((function(e){return a.a.createElement(g,{name:e},a.a.createElement(V,{name:_(e)}))})))},e}return n}(a.a.Component);n(40);var J=function(){var e=Object(s.b)();return a.a.createElement(s.a,{handle:e},a.a.createElement(o.a,null,a.a.createElement("div",{className:"App",id:"App"},a.a.createElement(h,{fullScreenToggler:e.enter}),a.a.createElement(G,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.a856816e.chunk.js.map